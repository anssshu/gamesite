require=function t(e,i,o){function s(n,a){if(!i[n]){if(!e[n]){var r="function"==typeof require&&require;if(!a&&r)return r(n,!0);if(c)return c(n,!0);var h=new Error("Cannot find module '"+n+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[n]={exports:{}};e[n][0].call(l.exports,function(t){var i=e[n][1][t];return s(i||t)},l,l.exports,t,e,i,o)}return i[n].exports}for(var c="function"==typeof require&&require,n=0;n<o.length;n++)s(o[n]);return s}({AudioLibrary:[function(t,e,i){"use strict";cc._RF.push(e,"ff3e5x0QENNP7dAF1lwUw+5","AudioLibrary"),cc.Class({extends:cc.Component,properties:{hitAudio:{default:null,url:cc.AudioClip},enemyDieAudio:{default:null,url:cc.AudioClip},playerDieAudio:{default:null,url:cc.AudioClip},jumpAudio:{default:null,url:cc.AudioClip},pickupAudio:{default:null,url:cc.AudioClip}},onLoad:function(){this.musicPlayer=new cc.AudioSource,this.bgPlayer=this.getComponent(cc.AudioSource),this.bgPlayer.play(),this.bgPlayer.volume=cc.game.globalData.volume,this.bgPlayer.mute=cc.game.globalData.mute,this.bgPlayer.loop=!0},start:function(){},playHitAudio:function(){cc.game.globalData.mute||(this.musicPlayer.clip=this.hitAudio,this.musicPlayer.play(),this.musicPlayer.volume=.1)},playEnemyDieAudio:function(){cc.game.globalData.mute||(this.musicPlayer.clip=this.enemyDieAudio,this.musicPlayer.play(),this.musicPlayer.volume=2)},playPlayerDieAudio:function(){cc.game.globalData.mute||(this.musicPlayer.clip=this.playerDieAudio,this.musicPlayer.play(),this.musicPlayer.volume=.5)},playJumpAudio:function(){cc.game.globalData.mute||(this.musicPlayer.clip=this.jumpAudio,this.musicPlayer.play(),this.musicPlayer.volume=.5)},playPickupAudio:function(){cc.game.globalData.mute||(this.musicPlayer.clip=this.pickupAudio,this.musicPlayer.play(),this.musicPlayer.volume=1)}}),cc._RF.pop()},{}],CameraControl:[function(t,e,i){"use strict";cc._RF.push(e,"5f97bleAYNACJ0xfYa8+u6s","CameraControl"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node},camera:cc.Camera,anim:cc.Animation,jumpZoom:!1,centerAtStart:!1,smoothFollow:!1,followX:{default:0,visible:function(){return this.smoothFollow}},followY:{default:0,visible:function(){return this.smoothFollow}},minFollowDist:{default:0,visible:function(){return this.smoothFollow}},followRatio:{default:0,visible:function(){return this.smoothFollow}},overview:!1,overviewTargets:{default:[],type:[cc.Node],visible:function(){return this.overview}},overviewMargin:{default:0,visible:function(){return this.overview}},speedZoom:!1,zoomInSpeed:{default:0,visible:function(){return this.speedZoom}},zoomOutSpeed:{default:0,visible:function(){return this.speedZoom}},canShake:!1,shakeDuration:{default:0,visible:function(){return this.canShake}},pointerPan:!1,pointerXMult:{default:0,visible:function(){return this.pointerPan}},pointerYMult:{default:0,visible:function(){return this.pointerPan}},useBoundaries:!1,topBound:{default:0,visible:function(){return this.useBoundaries}},bottomBound:{default:0,visible:function(){return this.useBoundaries}},leftBound:{default:0,visible:function(){return this.useBoundaries}},rightBound:{default:0,visible:function(){return this.useBoundaries}}},onLoad:function(){this.startFollow=!1;var t=cc.find("Canvas").getComponent(cc.Canvas);this.visibleSize=cc.view.getVisibleSize(),this.initZoomRatio=this.camera.zoomRatio,this.centerAtStart&&(this.node.position=this.target.convertToWorldSpaceAR(cc.Vec2.ZERO)),this.previousPos=this.node.position,this.pointerPan&&(this.overview=!1,this.speedZoom=!1,t.node.on("mousemove",this.onMouseMove,this),t.node.on("touchmove",this.onTouchMove,this),this.pointerPos=null),this.overview&&(this.jumpZoom=!1,this.speedZoom=!1),this.speedZoom&&(this.jumpZoom=!1)},onEnable:function(){cc.director.getPhysicsManager().attachDebugDrawToCamera(this.camera)},onDisable:function(){cc.director.getPhysicsManager().detachDebugDrawFromCamera(this.camera)},lateUpdate:function(t){var e=void 0;if(e=this.overview?this.target.parent.convertToWorldSpaceAR(this.getOverviewTargetsMidpoint()):this.target.parent.convertToWorldSpaceAR(this.target.position),this.pointerPan&&this.pointerPos){var i=this.pointerPos.x/(this.visibleSize.width/2)-1,o=this.pointerPos.y/(this.visibleSize.height/2)-1;i*=this.pointerXMult,o*=this.pointerYMult,e=cc.pAdd(e,cc.p(i,o))}if(this.smoothFollow?((Math.abs(e.x-this.node.x)>=this.followX||Math.abs(e.y-this.node.y)>=this.followY)&&(this.startFollow=!0),this.startFollow&&(this.node.position=this.node.position.lerp(e,this.followRatio),cc.pDistance(e,this.node.position)<=this.minFollowDist&&(this.startFollow=!1))):this.node.position=this.node.parent.convertToNodeSpaceAR(e),this.speedZoom){var s=Math.abs(this.previousPos.x-e.x)/t,c=0;s>this.zoomOutSpeed?(c=1-(s-this.zoomOutSpeed)/(this.zoomInSpeed-this.zoomOutSpeed),this.camera.zoomRatio=cc.lerp(this.camera.zoomRatio,c,.02)):this.camera.zoomRatio=cc.lerp(this.camera.zoomRatio,this.initZoomRatio,.02)}if(this.previousPos=e,this.jumpZoom){var n=e.y/cc.winSize.height;this.camera.zoomRatio=1+.35*(.6-n)}if(this.useBoundaries){var a=this.visibleSize.width/2/this.camera.zoomRatio,r=this.visibleSize.height/2/this.camera.zoomRatio,h=this.node.x-a,l=this.node.x+a,p=this.node.y-r,d=this.node.y+r;h<this.leftBound&&(this.node.x=this.leftBound+a),p<this.bottomBound&&(this.node.y=this.bottomBound+r),l>this.rightBound&&(this.node.x=this.rightBound-a),d>this.topBound&&(this.node.y=this.topBound-r)}},getOverviewTargetsMidpoint:function(){for(var t=cc.p(0,0),e=99999,i=99999,o=-99999,s=-99999,c=0;c<this.overviewTargets.length;++c){var n=this.overviewTargets[c];o=n.x>o?n.x:o,e=n.x<e?n.x:e,s=n.y>s?n.y:s,i=n.y<i?n.y:i}o+=this.overviewMargin,e-=this.overviewMargin,s+=this.overviewMargin,i-=this.overviewMargin;var a=Math.abs(o-e),r=Math.abs(s-i);t=cc.p(e+a/2,i+r/2);var h=Math.max(a/this.visibleSize.width,r/this.visibleSize.height);return this.camera.zoomRatio=1/h,t},shakeCamera:function(){this.canShake&&(this.anim.play("shake"),this.scheduleOnce(this.stopShake.bind(this),this.shakeDuration))},stopShake:function(){this.anim.stop(),this.camera.node.position=cc.p(0,0)},onMouseMove:function(t){this.pointerPos=t.getLocation()},onTouchMove:function(t){this.pointerPos=t.getLocation()}}),cc._RF.pop()},{}],GameOver:[function(t,e,i){"use strict";cc._RF.push(e,"9e395+fhcZLKqitlJt680iI","GameOver"),cc.Class({extends:cc.Component,properties:{},restart:function(){cc.director.resume(),cc.director.loadScene(cc.director.getScene().name)}}),cc._RF.pop()},{}],HUDsetting:[function(t,e,i){"use strict";cc._RF.push(e,"f3144NMJddCALeqw1eB+OPO","HUDsetting"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],LargeStaticBG:[function(t,e,i){"use strict";cc._RF.push(e,"b6ac3T8pOlP4J8jz/pU+xP7","LargeStaticBG"),cc.Class({extends:cc.Component,properties:{target:cc.Node},onLoad:function(){var t=cc.winSize.width/2,e=cc.winSize.height/2;if(this.center=cc.v2(t,e),this.offset=cc.v2(this.node.width/2,this.node.height/2),this.level_bounds={left:0,right:this.node.width,top:this.node.height,bottom:0},this.target){var i=this.getCameraBounds(this.target,this.center),o=this.getSmoothFollowTarget(this.center,this.target,i,this.level_bounds),s=(cc.pMult(o[0],-1),cc.pSub(this.offset,o[0]));this.node.setPosition(s)}else this.node.setPosition(cc.v2(this.node.width/2-t,this.node.height/2-e))},start:function(){},update:function(t){var e=this.getCameraBounds(this.target,this.center),i=this.getSmoothFollowTarget(this.center,this.target,e,this.level_bounds),o=(cc.pMult(i[0],-1),cc.pSub(this.offset,i[0]));this.node.position=this.node.position.lerp(o,.025)},getCameraBounds:function(t,e){return{top:t.y+e.y,bottom:t.y-e.y,left:t.x-e.x,right:t.x+e.x}},getSmoothFollowTarget:function(t,e,i,o){var s,c;return i.left>o.left&&i.right<o.right&&i.bottom>o.bottom&&i.top<o.top&&(s="case1",c=e.position),i.top<o.top&&i.bottom>o.bottom&&i.left<o.left&&(s="case2",c=cc.v2(t.x+o.left,e.y)),i.bottom<o.bottom&&i.left<o.left&&(s="case3",c=cc.v2(t.x+o.left,t.y+o.bottom)),i.top>o.top&&i.left<o.left&&(s="case4",c=cc.v2(t.x+o.left,o.top-t.y)),i.top<o.top&&i.bottom>o.bottom&&i.right>o.right&&(s="case5",c=cc.v2(o.right-t.x,e.y)),i.bottom<o.bottom&&i.right>o.right&&(s="case6",c=cc.v2(o.right-t.x,t.y+o.bottom)),i.top>o.top&&i.right>o.right&&(s="case7",c=cc.v2(o.right-t.x,o.top-t.y)),i.left>o.left&&i.right<o.right&&i.top>o.top&&(s="case8",c=cc.v2(e.x,o.top-t.y)),i.left>o.left&&i.right<o.right&&i.bottom<o.bottom&&(s="case9",c=cc.v2(e.x,t.y+o.bottom)),[c,s]}}),cc._RF.pop()},{}],Life:[function(t,e,i){"use strict";cc._RF.push(e,"9b87ctfTg5JHZiuAGqjY/Qx","Life"),cc.Class({extends:cc.Component,properties:{life:.8,lifeCount:3,label:cc.Label,lifeSprite:cc.Sprite},onLoad:function(){this.updateLife(this.life),this.label.string="X"+String(this.lifeCount)},start:function(){},updateLifeCount:function(t){this.label.string="X"+String(t)},updateLife:function(t){this.life=t,this.lifeSprite.fillRange=t}}),cc._RF.pop()},{}],MenuScript:[function(t,e,i){"use strict";cc._RF.push(e,"137eekE5uBPn4edOO/ng46w","MenuScript"),cc.Class({extends:cc.Component,properties:{settingScreenNode:cc.Node},onLoad:function(){},onExit:function(){cc.sys.isNative&&(cc.director.resume(),cc.director.end()),cc.sys.isBrowser&&(cc.game.resume(),cc.game.end())},runNewScene:function(t,e){cc.director.resume(),cc.director.loadScene(e)},onStartGame:function(){cc.sys.isNative&&(cc.director.resume(),cc.director.loadScene(cc.director.getScene().name)),cc.sys.isBrowser&&(cc.director.resume(),cc.director.loadScene(cc.director.getScene().name))},onSettings:function(){this.settingScreenNode&&(this.settingScreenNode.active=!this.settingScreenNode.active)}}),cc._RF.pop()},{}],Mimo:[function(t,e,i){"use strict";cc._RF.push(e,"ca96bZZi9NFYKUXOafI8Mkg","Mimo"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onCollisionEnter:function(t,e){console.log(" collision enter"),this.node.children[0].active=!0},onCollisionStay:function(t,e){},onCollisionExit:function(t,e){cc.log("exit"),this.node.children[0].active=!1}}),cc._RF.pop()},{}],Mute:[function(t,e,i){"use strict";cc._RF.push(e,"61ff7MnGY9E8J3cddZ9AHea","Mute"),cc.Class({extends:cc.Component,properties:{mute:cc.SpriteFrame,unmute:cc.SpriteFrame,pic:cc.Sprite},onLoad:function(){this.frames=[this.unmute,this.mute],this.p=0,this.backgroundMusic=cc.find("AudioLibrary").getComponent(cc.AudioSource),cc.game.globalData.mute?(this.pic.spriteFrame=this.mute,this.p=1):(this.pic.spriteFrame=this.unmute,this.p=0)},start:function(){},onButtonPressed:function(){0==this.p?this.p=1:this.p=0,this.backgroundMusic.mute=!this.backgroundMusic.mute,this.pic.spriteFrame=this.frames[this.p],cc.game.globalData.mute=this.backgroundMusic.mute,cc.game.saveGameData("gameDb",cc.game.globalData)}}),cc._RF.pop()},{}],ParalaxLayer:[function(t,e,i){"use strict";cc._RF.push(e,"7353eCddyBLy7rPPFOTPZqX","ParalaxLayer"),cc.Class({extends:cc.Component,properties:{speedFactor:1,spriteFrames:[cc.SpriteFrame],layer_speed:[cc.Float],layer_Yoffset:[cc.Integer],layer_scaleY:[cc.Float],layer_disabled:[cc.Boolean],layer_unMirroed:[cc.Boolean],player:cc.Node,playerInteraction:!1},onLoad:function(){this.Layers=[],this.node.scaleX=1,this.initial_speedFactor=this.speedFactor;var t=cc.winSize.height,e=cc.winSize.width;this.center=cc.v2(e/2,t/2),this.p=cc.pSub(this.center,this.node.parent.position),this.node.setPosition(cc.v2());var i,o;this.pic_shift=2;for(var s=0;s<this.spriteFrames.length;s++){var c=new cc.Node;c.parent=this.node,c.setPosition(cc.pAdd(this.p,cc.v2(0,this.node.y))),i=this.layer_speed[s]>0?1:-1,c.scaleY=this.layer_scaleY[s],0==this.layer_speed[s]&&(o=1),o=this.layer_unMirroed[s]?2:3;for(var n=0;n<o;n++){var a=new cc.Node;a.addComponent(cc.Sprite).spriteFrame=this.spriteFrames[s],a.parent=c,a.width=cc.winSize.width,a.setPosition(cc.v2(-n*e*i,this.layer_Yoffset[s])),1!=n||this.layer_unMirroed[s]?a.scaleX=1:a.scaleX=-1}c.active=!this.layer_disabled[s],c.alignment=i,this.Layers.push(c)}},update:function(t){for(var e=0;e<this.Layers.length;e++){var i=this.layer_speed[e]*this.speedFactor;if(this.Layers[e].alignment*i<0){if(this.Layers[e].x=this.Layers[e].x+this.Layers[e].alignment*this.pic_shift*cc.winSize.width*-1,this.Layers[e].children[0]){for(var o=this.Layers[e].children,s=0;s<o.length;s++);o.forEach(function(t){t.x=-t.x})}this.Layers[e].alignment*=-1}this.layer_unMirroed[e]?this.pic_shift=1:this.pic_shift=2,i>0&&this.Layers[e].x-this.p.x>this.pic_shift*cc.winSize.width&&(this.Layers[e].x=this.p.x),i<0&&this.Layers[e].x-this.p.x<-this.pic_shift*cc.winSize.width&&(this.Layers[e].x=this.p.x),0!=i&&(this.Layers[e].x+=1*i)}if(this.player&&this.playerInteraction){var c=this.player.getComponent(cc.RigidBody).linearVelocity.x;this.speedFactor=cc.lerp(0,this.initial_speedFactor,c/200)}}}),cc._RF.pop()},{}],Pause:[function(t,e,i){"use strict";cc._RF.push(e,"2e40elqYddOTZDbC7vDVjKF","Pause"),cc.Class({extends:cc.Component,properties:{settingNode:cc.Node,menuNode:cc.Node,play:cc.SpriteFrame,pause:cc.SpriteFrame,pic:cc.Sprite},onLoad:function(){this.frames=[this.pause,this.play],this.p=0},start:function(){},onButtonPressed:function(){this.menuNode.active=!this.menuNode.active,0==this.p?(this.p=1,cc.director.pause()):(this.p=0,cc.director.resume()),this.pic.spriteFrame=this.frames[this.p]}}),cc._RF.pop()},{}],PlayerFollowCamera:[function(t,e,i){"use strict";function o(t,e){return{top:t.y+e.y,bottom:t.y-e.y,left:t.x-e.x,right:t.x+e.x}}function s(t,e,i,o,s,c){var n=Math.abs(e.y-t.y);Math.abs(e.x-t.x)<o.x&&n<o.y||"case1"!=c&&"case8"!=c&&"case9"!=c||(t.position=t.position.lerp(i,s)),"case2"!=c&&"case5"!=c&&"case4"!=c&&"case7"!=c||(t.x=t.position.lerp(i,s).x,n>o.y&&(t.position=t.position.lerp(i,s))),"case3"!=c&&"case6"!=c||(t.x=t.position.lerp(i,s).x,e.y-t.y<0&&(t.position=t.position.lerp(i,s))),cc.log(c)}cc._RF.push(e,"91c2168TtxIyYB8yef+xein","PlayerFollowCamera"),cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},followSpeed:.03,top_bound:1e3,bottom_bound:-1e3,left_bound:0,right_bound:2e3,xyLimit:cc.v2(50,200)},onLoad:function(){this.case="case1",this.cam=this.node.getComponent(cc.Camera),this.center=cc.v2(cc.winSize.width/this.cam.zoomRatio/2,cc.winSize.height/this.cam.zoomRatio/2),this.body=this.player.getComponent(cc.RigidBody),this.node.setPosition(this.center)},start:function(){},update:function(t){if(this.camera=o(this.player,this.center),this.camera.left>this.left_bound&&this.camera.right<this.right_bound&&this.camera.bottom>this.bottom_bound&&this.camera.top<this.top_bound){this.case="case1";var e=this.player.position;s(this.node,this.player,e,this.xyLimit,this.followSpeed,this.case)}if(this.camera.left<this.left_bound){if(this.camera.top<this.top_bound&&this.camera.bottom>this.bottom_bound){this.case="case2";var i=cc.v2(this.center.x+this.left_bound,this.player.y);s(this.node,this.player,i,this.xyLimit,this.followSpeed,this.case)}if(this.camera.bottom<this.bottom_bound){this.case="case3";var c=cc.v2(this.center.x+this.left_bound,this.center.y+this.bottom_bound);s(this.node,this.player,c,this.xyLimit,this.followSpeed,this.case)}if(this.camera.top>this.top_bound){this.case="case4";var n=cc.v2(this.center.x+this.left_bound,this.top_bound-this.center.y);s(this.node,this.player,n,this.xyLimit,this.followSpeed,this.case)}}if(this.camera.right>this.right_bound){if(this.camera.top<this.top_bound&&this.camera.bottom>this.bottom_bound){this.case="case5";var a=cc.v2(this.right_bound-this.center.x,this.player.y);s(this.node,this.player,a,this.xyLimit,this.followSpeed,this.case)}if(this.camera.bottom<this.bottom_bound){this.case="case6";var r=cc.v2(this.right_bound-this.center.x,this.center.y+this.bottom_bound);s(this.node,this.player,r,this.xyLimit,this.followSpeed,this.case)}if(this.camera.top>this.top_bound){this.case="case7";var h=cc.v2(this.right_bound-this.center.x,this.top_bound-this.center.y);s(this.node,this.player,h,this.xyLimit,this.followSpeed,this.case)}}if(this.camera.left>this.left_bound&&this.camera.right<this.right_bound){if(this.camera.top>this.top_bound){this.case="case8";var l=cc.v2(this.player.x,this.top_bound-this.center.y);s(this.node,this.player,l,this.xyLimit,this.followSpeed,this.case)}if(this.camera.bottom<this.bottom_bound){this.case="case9";var p=cc.v2(this.player.x,this.center.y+this.bottom_bound);s(this.node,this.player,p,this.xyLimit,this.followSpeed,this.case)}}}}),cc._RF.pop()},{}],Score:[function(t,e,i){"use strict";cc._RF.push(e,"52c9eBl/CVCmJPrymS3/Ikz","Score"),cc.Class({extends:cc.Component,properties:{score:0},onLoad:function(){this.label=this.node.getComponent(cc.Label),this.label.string="Score: "+String(this.score)},getScore:function(){return this.score},setScore:function(t){this.score=t,this.label.string="Score: "+String(t)}}),cc._RF.pop()},{}],ScrollingBackGround:[function(t,e,i){"use strict";cc._RF.push(e,"d02ba1+fXRCpb23zJXk8tSC","ScrollingBackGround"),cc.Class({extends:cc.Component,properties:{speed:1,repeatChildren:!1},onLoad:function(){var t=this;this.node.scaleX=1;var e=cc.winSize.height,i=cc.winSize.width,o=this.node.getComponent(cc.Sprite).spriteFrame;this.p=cc.pSub(cc.v2(i/2,e/2),this.node.parent.position),this.node.setPosition(cc.pAdd(this.p,cc.v2(0,this.node.y)));var s;s=this.speed>0?1:-1;var c=new cc.Node,n=c.addComponent(cc.Sprite);n.spriteFrame=o,c.parent=this.node,c.width=cc.winSize.width,c.scaleX=-1,c.setPosition(cc.v2(-1*i*s,0)),c.color=this.node.color;var a=new cc.Node;if((n=a.addComponent(cc.Sprite)).spriteFrame=o,a.parent=this.node,a.width=cc.winSize.width,a.scaleX=1,a.setPosition(cc.v2(-2*i*s,0)),a.color=this.node.color,this.node.children&&this.repeatChildren){var r=0,h=this.node.children.length;this.node.children.forEach(function(e){if(r+=1,cc.log(r,t.node.children.length),r<h-1){var o=cc.instantiate(e);o.setPosition(cc.pAdd(e.position,cc.v2(-i*s,0))),o.parent=t.node;var c=cc.instantiate(e);c.setPosition(cc.pAdd(e.position,cc.v2(-2*i*s,0))),c.parent=t.node}})}},start:function(){},update:function(t){this.speed>0&&this.node.x-this.p.x>2*cc.winSize.width&&(this.node.x=this.p.x),this.speed<0&&this.node.x-this.p.x<-2*cc.winSize.width&&(this.node.x=this.x),this.node.x+=1*this.speed}}),cc._RF.pop()},{}],SimpleCamera:[function(t,e,i){"use strict";cc._RF.push(e,"45794qYjVxHVqBSZr30JP3F","SimpleCamera"),cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},simpleCamera:!1,followSpeed:.03,top_bound:1e3,bottom_bound:-1e3,left_bound:0,right_bound:2e3,xyLimit:cc.v2(50,200)},onLoad:function(){this.level_bounds={left:this.left_bound,right:this.right_bound,top:this.top_bound,bottom:this.bottom_bound};var t=this.node.getComponent(cc.Camera).zoomRatio,e=cc.winSize.width/t/2,i=cc.winSize.height/t/2;this.center=cc.v2(e,i);var o=this.getCameraBounds(this.player,this.center),s=this.getSmoothFollowTarget(this.center,this.player,o,this.level_bounds)[0];this.player?this.node.setPosition(s):this.node.setPosition(this.center)},update:function(t){var e=this.getCameraBounds(this.player,this.center),i=this.getSmoothFollowTarget(this.center,this.player,e,this.level_bounds),o=i[0],s=i[1];this.simpleCamera?this.node.position=this.node.position.lerp(o,this.followSpeed):this.updateCameraPosition(this.node,this.player,o,this.xyLimit,this.followSpeed,s)},getCameraBounds:function(t,e){return{top:t.y+e.y,bottom:t.y-e.y,left:t.x-e.x,right:t.x+e.x}},updateCameraPosition:function(t,e,i,o,s,c){var n=Math.abs(e.y-t.y);Math.abs(e.x-t.x)<o.x&&n<o.y||"case1"!=c&&"case8"!=c&&"case9"!=c||(t.position=t.position.lerp(i,s)),"case2"!=c&&"case5"!=c&&"case4"!=c&&"case7"!=c||(t.x=t.position.lerp(i,s).x,n>o.y&&(t.position=t.position.lerp(i,s))),"case3"!=c&&"case6"!=c||(t.x=t.position.lerp(i,s).x,e.y-t.y<0&&(t.position=t.position.lerp(i,s)))},getSmoothFollowTarget:function(t,e,i,o){var s,c;return i.left>o.left&&i.right<o.right&&i.bottom>o.bottom&&i.top<o.top&&(s="case1",c=e.position),i.top<o.top&&i.bottom>o.bottom&&i.left<o.left&&(s="case2",c=cc.v2(t.x+o.left,e.y)),i.bottom<o.bottom&&i.left<o.left&&(s="case3",c=cc.v2(t.x+o.left,t.y+o.bottom)),i.top>o.top&&i.left<o.left&&(s="case4",c=cc.v2(t.x+o.left,o.top-t.y)),i.top<o.top&&i.bottom>o.bottom&&i.right>o.right&&(s="case5",c=cc.v2(o.right-t.x,e.y)),i.bottom<o.bottom&&i.right>o.right&&(s="case6",c=cc.v2(o.right-t.x,t.y+o.bottom)),i.top>o.top&&i.right>o.right&&(s="case7",c=cc.v2(o.right-t.x,o.top-t.y)),i.left>o.left&&i.right<o.right&&i.top>o.top&&(s="case8",c=cc.v2(e.x,o.top-t.y)),i.left>o.left&&i.right<o.right&&i.bottom<o.bottom&&(s="case9",c=cc.v2(e.x,t.y+o.bottom)),[c,s]}}),cc._RF.pop()},{}],Snell:[function(t,e,i){"use strict";cc._RF.push(e,"5eb4974P+FCZ41WKE7OeoZ2","Snell"),cc.Class({extends:cc.Component,properties:{speed:4,span:40},onLoad:function(){this.state="active",this.pos=this.node.position,this.m_speed=this.speed,this.lifeNode=cc.find("HUD/LifeNode").getComponent("Life")},onCollisionEnter:function(t,e){var i=cc.sequence(cc.moveBy(.05,cc.v2(10,20)),cc.moveBy(.09,cc.v2(20,20)),cc.moveBy(.1,cc.v2(30,20)),cc.moveBy(.1,cc.v2(30,-20)),cc.moveBy(.09,cc.v2(20,-20)),cc.moveBy(.05,cc.v2(10,-20)),cc.moveBy(.1,cc.v2(500,-1150))),o=cc.sequence(cc.moveBy(.2,cc.v2(0,50)),cc.moveBy(.2,cc.v2(0,0)),cc.rotateBy(.7,540),cc.moveBy(1,cc.v2(0,-640))),s=t.node.parent.parent,c=s.children[0].children[2],n=s.getComponent(cc.RigidBody),a=t.world.aabb,r=e.world.aabb;console.log(" collision enter"),r.y+r.height/2<a.y&&"active"==this.state?(cc.log("kill"),this.m_speed=0,this.state="dead",cc.find("AudioLibrary").getComponent("AudioLibrary").playEnemyDieAudio(),this.node.runAction(i),setTimeout(this.kill,3100,this.node),this.updateScore(10)):"active"==this.state&&(this.lifeNode.life>.1&&(this.lifeNode.life-=.2),this.lifeNode.updateLife(this.lifeNode.life),c.getComponent(cc.Sprite).spriteFrame=cc.find("Sprites/ninoelectric").getComponent(cc.Sprite).spriteFrame,setTimeout(this.setNormalColor,300,c),this.lifeNode.life>.1&&(a.x<r.x&&n.applyLinearImpulse(cc.v2(-100,0),n.getWorldCenter(),!0),a.x>r.x&&n.applyLinearImpulse(cc.v2(100,0),n.getWorldCenter(),!0),cc.find("AudioLibrary").getComponent("AudioLibrary").playHitAudio()),this.lifeNode.life<.1&&(this.lifeNode.lifeCount>0&&(this.lifeNode.lifeCount-=1,this.lifeNode.updateLifeCount(this.lifeNode.lifeCount)),c.getComponent(cc.Sprite).spriteFrame=cc.find("HUD/LifeNode/nino_f").getComponent(cc.Sprite).spriteFrame,t.node.active=!1,s.getComponent("player").state="dead",cc.find("AudioLibrary").getComponent("AudioLibrary").playPlayerDieAudio(),c.runAction(o),0==this.lifeNode.lifeCount?(cc.find("HUD/GameOverNode").active=!0,setTimeout(this.killPlayer,2500,s)):setTimeout(this.reposPlayer,2500,s,this)))},setNormalColor:function(t){t.getComponent(cc.Sprite).spriteFrame=cc.find("Sprites/nino").getComponent(cc.Sprite).spriteFrame},kill:function(t){t.destroy()},reposPlayer:function(t,e){t.active=!0,t.getComponent("player").state="alive",t.children[0].children[2].position=cc.v2(.8,18.1),t.children[0].children[2].rotation=0,t.children[0].children[2].getComponent(cc.Sprite).spriteFrame=cc.find("Sprites/nino").getComponent(cc.Sprite).spriteFrame;var i=t.children[0].children[0];e.lifeNode.life=1,e.lifeNode.updateLife(e.lifeNode.life),setTimeout(e.activateCollision,3e3,i)},killPlayer:function(t){t.active=!1},activateCollision:function(t){t.active=!0},onCollisionStay:function(t,e){},onCollisionExit:function(t,e){},updateScore:function(t){if(cc.find("HUD/ScoreNode")){var e=cc.find("HUD/ScoreNode").getComponent("Score"),i=e.getScore();e.setScore(i+t)}},update:function(t){"dead"!=this.state&&(this.node.x<this.pos.x-this.span&&(this.m_speed=this.speed,this.node.scaleX=-1*this.node.scaleX),this.node.x>=this.pos.x+this.span&&(this.m_speed=-this.speed,this.node.scaleX=-1*this.node.scaleX),this.node.x=this.node.x+this.m_speed)}}),cc._RF.pop()},{}],Water:[function(t,e,i){"use strict";cc._RF.push(e,"78ea4/tBPtCZr6H5DSCDjlU","Water"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.gravity=cc.director.getPhysicsManager().gravity},onCollisionEnter:function(t,e){console.log("entered collision"),cc.director.getPhysicsManager().gravity=cc.v2(0,0);var i=t.node.parent.parent,o=i.getComponent(cc.RigidBody).linearVelocity;i.getComponent(cc.RigidBody).linearVelocity=cc.pMult(o,.8),i.getComponent("player").isInWater=!0,i.getComponent("player").tangent=cc.v2(1,0),i.children[0].rotation=0},onCollisionStay:function(t,e){console.log(" collision stay")},onCollisionExit:function(t,e){cc.director.getPhysicsManager().gravity=this.gravity,t.node.parent.parent.getComponent("player").isInWater=!1}}),cc._RF.pop()},{}],boundry:[function(t,e,i){"use strict";cc._RF.push(e,"15bcfNiWLBB46sTUsQSn8ko","boundry"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.getComponent(cc.PhysicsCollider).type="boundary"}}),cc._RF.pop()},{}],box_platform_onesided_cocos:[function(t,e,i){"use strict";cc._RF.push(e,"81a3efdg0VFtbp6h/GMGVi0","box_platform_onesided_cocos"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.getComponent(cc.RigidBody).enabledContactListener=!0,this.pointVelPlatform=cc.v2(),this.pointVelOther=cc.v2(),this.relativeVel=cc.v2(),this.relativePoint=cc.v2()},onBeginContact:function(t,e,i){var o=t.getWorldManifold().normal,s=cc.radiansToDegrees(cc.pToAngle(o));s>0&&"player"==i.node.name&&Math.abs(i.node.children[0].rotation-90+s)>20&&(i.node.children[0].rotation=90-s);this._pointsCache;for(var c=i.body,n=e.body,a=t.getWorldManifold().points,r=this.pointVelPlatform,h=this.pointVelOther,l=this.relativeVel,p=this.relativePoint,d=0;d<a.length;d++){if(n.getLinearVelocityFromWorldPoint(a[d],r),c.getLinearVelocityFromWorldPoint(a[d],h),n.getLocalVector(h.subSelf(r),l),l.y<-32)return;if(l.y<32){n.getLocalPoint(a[d],p);var u=e.getAABB().height/2;if(p.y>u-3.2)return}}t.disabled=!0}}),cc._RF.pop()},{}],box_platform_onesided:[function(t,e,i){"use strict";cc._RF.push(e,"2c8b7Mk6kNEqIbZ4uJPXvR7","box_platform_onesided"),cc.Class({extends:cc.Component,properties:{gravity:1e3,gravityNormal:cc.v2(0,-1),minAngle:1,maxAngle:170,alignment:!0,boundary:!1},onLoad:function(){this.getComponent(cc.PhysicsCollider).type="onesided",this.golbalGravity=cc.director.getPhysicsManager().gravity,this.node.getComponent(cc.RigidBody).enabledContactListener=!0},start:function(){this.boundary&&(this.node.getComponent(cc.PhysicsCollider).type="boundary")},onBeginContact:function(t,e,i){var o=t.getWorldManifold().normal,s=cc.radiansToDegrees(cc.pToAngle(o));s<this.maxAngle&&s>this.minAngle&&"player"==i.node.name&&this.alignment&&(this.player=i.node,i.node.children[0].rotation=90-s),(s<this.minAngle||s>this.maxAngle)&&(t.disabled=!0)},onEndContact:function(t,e,i){i.node.name},update:function(t){}}),cc._RF.pop()},{}],collision:[function(t,e,i){"use strict";cc._RF.push(e,"c170eE/UYVL3rDBWSpkvhc0","collision"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onCollisionEnter:function(t,e){console.log("pickup collision enter")},onCollisionStay:function(t,e){console.log("pickup collision stay")},onCollisionExit:function(t,e){console.log("pickup collision exit")}}),cc._RF.pop()},{}],curvy_ground_onesided:[function(t,e,i){"use strict";cc._RF.push(e,"3835bIidjBDzIqbGlAhlfff","curvy_ground_onesided"),cc.Class({extends:cc.Component,properties:{gravity:1e3,gravityNormal:cc.v2(0,-1),minAngle:0,maxAngle:-178},onLoad:function(){this.getComponent(cc.PhysicsCollider).type="onesided",this.golbalGravity=cc.director.getPhysicsManager().gravity,this.node.getComponent(cc.RigidBody).enabledContactListener=!0},onBeginContact:function(t,e,i){var o=t.getWorldManifold().normal,s=cc.radiansToDegrees(cc.pToAngle(o));if("player"==i.node.name){Math.abs(i.node.children[0].rotation-90+s)>20&&s>0&&(i.node.children[0].rotation=90-s);var c=cc.director.getPhysicsManager();c.gravity=s<140&&s>0?cc.pMult(o,-1*this.gravity):this.golbalGravity}(s<this.minAngle||s>this.maxAngle)&&(t.disabled=!0)},onEndContact:function(t,e,i){"player"==i.node.name&&(cc.director.getPhysicsManager().gravity=this.golbalGravity)},update:function(t){}}),cc._RF.pop()},{}],custom_properties:[function(t,e,i){"use strict";cc._RF.push(e,"737ad77Kr5PcpgcDp/0LGOg","custom_properties"),cc.Class({extends:cc.Component,properties:{prop:"platform"},onLoad:function(){this.node.prop=this.prop},start:function(){}}),cc._RF.pop()},{}],exp:[function(t,e,i){"use strict";cc._RF.push(e,"75f7eJmRINAKK6D1JZIiC3A","exp"),cc.Class({extends:cc.Component,properties:{},start:function(){},update:function(t){this.node.position=cc.find("Canvas/deltaRigidBody").position}}),cc._RF.pop()},{}],externalRayCastforGraphicsComp:[function(t,e,i){"use strict";cc._RF.push(e,"767decPAOtB6afwEozJPpld","externalRayCastforGraphicsComp"),cc.Class({extends:cc.Component,properties:{rayCastType:{default:cc.RayCastType.Closest,type:cc.RayCastType},drawRay:!0,radius:1e3,angle:90,target:{default:null,type:cc.Node}},onLoad:function(){this.drawRay&&(this.ctx=this.getComponent(cc.Graphics)),this.collisonResult=[],this.rayLength=this.radius},update:function(t){var e=this,i=this.target,o=Math.PI/180*this.angle,s=cc.pAdd(i.position,this.target.parent.position),c=cc.pAdd(cc.pMult(cc.v2(Math.cos(o),Math.sin(o)),this.radius),s),n=cc.director.getPhysicsManager().rayCast(s,c,this.rayCastType);this.drawRay&&(this.ctx.clear(),this.rayCastType!==cc.RayCastType.Closest&&this.rayCastType!==cc.RayCastType.Any||n[0]&&(c=n[0].point,this.collisonResult=n),s=cc.pSub(s,this.node.position),c=cc.pSub(c,this.node.position),n.forEach(function(t){e.ctx.circle(c.x,c.y,5),e.ctx.fill(),e.ctx.moveTo(s.x,s.y)}),this.ctx.lineTo(c.x,c.y),this.ctx.stroke(),this.rayLength=cc.pLength(cc.pSub(c,s)))}}),cc._RF.pop()},{}],fixedBackGround:[function(t,e,i){"use strict";cc._RF.push(e,"8643ePXmVlIcoeC0TwTs1wU","fixedBackGround"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height}}),cc._RF.pop()},{}],gameSettings:[function(t,e,i){"use strict";cc._RF.push(e,"18be63dtvFBTplLd6sOBaTD","gameSettings"),cc.Class({extends:cc.Component,properties:{debugDraw:!0},onLoad:function(){if(cc.game.saveGameData=this.saveGameData,cc.game.loadGameData=this.loadGameData,t=this.loadGameData("gameDb"))cc.game.globalData=t;else{var t={mute:!1,volume:.5,score:0,lifeCount:3,life:1,highScore:0,level:1};this.saveGameData("gameDb",t),cc.game.globalData=t}var e=cc.director.getPhysicsManager();e.enabled=!0,this.debugDraw?e.debugDrawFlags=cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit:(e.debugDrawFlags=0,cc.PhysicsManager.DrawBits.e_jointBit,cc.PhysicsManager.DrawBits.e_shapeBit);var i=cc.director.getCollisionManager();i.enabled=!0,i.enabledDebugDraw=this.debugDraw,i.enabledDrawBoundingBox=this.debugDraw},saveGameData:function(t,e){if(cc.sys.isNative){var i=jsb.fileUtils.getWritablePath();cc.log("saving to:"+i),jsb.fileUtils.writeToFile({data:JSON.stringify(e)},i+t)?cc.log("save successful"):cc.log("save FAILED")}else cc.sys.localStorage.setItem(t,JSON.stringify(e))},loadGameData:function(t){if(cc.sys.isNative){cc.log("loading game data");var e=jsb.fileUtils.getWritablePath();if(jsb.fileUtils.isFileExist(e+t)){var i=jsb.fileUtils.getValueMapFromFile(e+t);if(s=JSON.parse(i.data))return cc.log("game data found "),s}else cc.log("no saved game data found")}else{var o=cc.sys.localStorage.getItem(t);if(null!=o){var s=JSON.parse(o);return s}}}}),cc._RF.pop()},{}],ground:[function(t,e,i){"use strict";cc._RF.push(e,"bf323g9GoRMr5X3BsYk7W2J","ground"),cc.Class({extends:cc.Component,properties:{gravity:1e3,gravityNormal:cc.v2(0,-1)},onLoad:function(){this.golbalGravity=cc.director.getPhysicsManager().gravity,this.node.getComponent(cc.RigidBody).enabledContactListener=!0},onBeginContact:function(t,e,i){var o=t.getWorldManifold().normal,s=cc.radiansToDegrees(cc.pToAngle(o));if("player"==i.node.name){Math.abs(i.node.children[0].rotation-90+s)>20&&(i.node.children[0].rotation=90-s);var c=cc.director.getPhysicsManager();c.gravity=s<140&&s>0?cc.pMult(o,-1*this.gravity):this.golbalGravity}},onEndContact:function(t,e,i){"player"==i.node.name&&(cc.director.getPhysicsManager().gravity=this.golbalGravity)},update:function(t){}}),cc._RF.pop()},{}],mover:[function(t,e,i){"use strict";cc._RF.push(e,"eb496HYZ3xAoI72Ea0Kmd3l","mover"),cc.Class({extends:cc.Component,properties:{speed:1,dir:cc.v2()},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUP,this)},start:function(){},onKeyDown:function(t){switch(t.keyCode){case cc.KEY.w:case cc.KEY.up:cc.log("up motion"),this.dir.y=1;break;case cc.KEY.a:case cc.KEY.left:cc.log("left motion"),this.dir.x=-1;break;case cc.KEY.d:case cc.KEY.right:cc.log("right motion"),this.dir.x=1;break;case cc.KEY.s:case cc.KEY.down:cc.log("down motion"),this.dir.y=-1}},onKeyUP:function(t){switch(t.keyCode){case cc.KEY.a:case cc.KEY.left:this.dir.x=0;break;case cc.KEY.d:case cc.KEY.right:this.dir.x=0;break;case cc.KEY.w:case cc.KEY.up:this.dir.y=0;break;case cc.KEY.s:case cc.KEY.down:this.dir.y=0}},update:function(t){this.node.position=cc.pAdd(this.node.position,cc.pMult(this.dir,this.speed))}}),cc._RF.pop()},{}],movingplatform:[function(t,e,i){"use strict";cc._RF.push(e,"0738bwRKmVFS4AWGMzCbtgZ","movingplatform"),cc.Class({extends:cc.Component,properties:{speed:100,span:100,horizontal:!0},onLoad:function(){this.body=this.node.getComponent(cc.RigidBody),this.pos=this.node.position},start:function(){this.horizontal?this.body.linearVelocity=cc.v2(this.speed,0):this.body.linearVelocity=cc.v2(0,this.speed)},update:function(t){this.horizontal?(this.node.x<this.pos.x-this.span&&(this.body.linearVelocity=cc.v2(this.speed,0)),this.node.x>this.pos.x+this.span&&(this.body.linearVelocity=cc.v2(-this.speed,0))):(this.node.y<this.pos.y-this.span&&(this.body.linearVelocity=cc.v2(0,this.speed)),this.node.y>this.pos.y+this.span&&(this.body.linearVelocity=cc.v2(0,-this.speed)))}}),cc._RF.pop()},{}],myGlobalVariables:[function(t,e,i){"use strict";cc._RF.push(e,"a117dRkMDJFtaSvF0uAvyLJ","myGlobalVariables");cc._RF.pop()},{}],"physics-bound":[function(t,e,i){"use strict";cc._RF.push(e,"bf5082he+BBKIghZW/I+qzT","physics-bound"),cc.Class({extends:cc.Component,properties:{size:cc.size(0,0),mouseJoint:!0},onLoad:function(){var t=this.size.width||this.node.width,e=this.size.height||this.node.height,i=new cc.Node;i.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.mouseJoint&&(i.addComponent(cc.MouseJoint).mouseRegion=this.node),this._addBound(i,0,e/2,t,20),this._addBound_bottom(i,0,-this.node.height/2,t,20),this._addBound(i,-t/2,0,20,e),this._addBound(i,t/2,0,20,e),i.parent=this.node},_addBound:function(t,e,i,o,s){var c=t.addComponent(cc.PhysicsBoxCollider);c.offset.x=e,c.offset.y=i,c.size.width=o,c.size.height=s,c.type="boundary"},_addBound_bottom:function(t,e,i,o,s){var c=t.addComponent(cc.PhysicsBoxCollider);c.offset.x=e,c.offset.y=i,c.size.width=o,c.size.height=s,c.type="test_ground"}}),cc._RF.pop()},{}],physics:[function(t,e,i){"use strict";cc._RF.push(e,"fc261RW1UVOFroHfLHs8uOI","physics"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(t,e,i){},onEndContact:function(t,e,i){},onPreSolve:function(t,e,i){},onPostSolve:function(t,e,i){}}),cc._RF.pop()},{}],pickup:[function(t,e,i){"use strict";cc._RF.push(e,"44aa6sIorVNybn8tyTuhWEJ","pickup"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(t,e){this.updateScore(10),cc.find("AudioLibrary").getComponent("AudioLibrary").playPickupAudio(),e.node.destroy()},onCollisionStay:function(t,e){console.log("pickup collision stay")},onCollisionExit:function(t,e){console.log("pickup collision exit")},updateScore:function(t){if(cc.find("HUD/ScoreNode")){var e=cc.find("HUD/ScoreNode").getComponent("Score"),i=e.getScore();e.setScore(i+t)}}}),cc._RF.pop()},{}],playerPhysicsComponent:[function(t,e,i){"use strict";cc._RF.push(e,"f3de7+WHWtKgJytlxJfrf+n","playerPhysicsComponent"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(t,e,i){},onEndContact:function(t,e,i){},onPreSolve:function(t,e,i){},onPostSolve:function(t,e,i){}}),cc._RF.pop()},{}],playerRayCastComponent:[function(t,e,i){"use strict";cc._RF.push(e,"7428cK+90BH9bwS7Z0BRNZx","playerRayCastComponent"),cc.Class({extends:cc.Component,properties:{rayCastType:{default:cc.RayCastType.Closest,type:cc.RayCastType},drawRay:!0,radius:1e3,angle:90},onLoad:function(){this.drawRay&&(this.ctx=this.addComponent(cc.Graphics)),this.results=[{collider:"none",point:"none",normal:"none",fraction:"none"}],this.rayLength=this.radius},update:function(t){var e=this,i=Math.PI/180*this.angle,o=cc.pAdd(this.node.position,this.node.parent.position),s=cc.pAdd(cc.pMult(cc.v2(Math.cos(i),Math.sin(i)),this.radius),o),c=cc.director.getPhysicsManager().rayCast(o,s,this.rayCastType);this.rayCastType!==cc.RayCastType.Closest&&this.rayCastType!==cc.RayCastType.Any||c[0]&&(s=c[0].point,this.results=c),this.rayLength=cc.pLength(cc.pSub(s,o)),this.drawRay&&(this.ctx.clear(),c.forEach(function(t){e.ctx.circle(t.point.x-o.x,t.point.y-o.y,5)}),this.ctx.fill(),this.ctx.moveTo(0,0),this.ctx.lineTo(s.x-o.x,s.y-o.y),this.ctx.stroke())}}),cc._RF.pop()},{}],player:[function(t,e,i){"use strict";cc._RF.push(e,"8853dpP0ZRK5qmiLcBmOT0K","player"),cc.Class({extends:cc.Component,properties:{isOnGround:!0,isOnWall:!1,isInWater:!1,runImpulse:20,jumpImpulse:600,horizontalJumpFactor:.5,jumpDirection:cc.v2(0,-1),state:"idle",gravity:1e3,gravityNormal:cc.v2(0,-1),maxSpeed:800,musicPlayer:cc.Node},onLoad:function(){this.leftPressed=!1,this.rightPressed=!1,this.upPressed=!1,this.upSinglePressed=!1,this.downPressed=!1,this.ray=this.getComponent("playerRayCastComponent"),this.jump_count=0,this.tangent=cc.v2(1,0),this.normal=cc.v2(0,-1),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUP,this),this.body=this.getComponent(cc.RigidBody),this.body.enabledContactListener=!0},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUP,this)},start:function(){},playJumpAudio:function(){this.musicPlayer.getComponent("AudioLibrary").playJumpAudio()},onKeyDown:function(t){switch(t.keyCode){case cc.KEY.w:case cc.KEY.up:case cc.KEY.space:this.upPressed=!0,this.upSinglePressed=!0;break;case cc.KEY.a:case cc.KEY.left:this.leftPressed=!0,this.leftPressed=!0;break;case cc.KEY.d:case cc.KEY.right:this.rightPressed=!0;break;case cc.KEY.s:case cc.KEY.down:this.downPressed=!0}},onKeyUP:function(t){switch(t.keyCode){case cc.KEY.a:case cc.KEY.left:this.leftPressed=!1;break;case cc.KEY.d:case cc.KEY.right:this.rightPressed=!1;break;case cc.KEY.space:case cc.KEY.w:case cc.KEY.up:this.upPressed=!1;break;case cc.KEY.s:case cc.KEY.down:this.downPressed=!1}},onBeginContact:function(t,e,i){if("boundary"!=i.node.group&&"boundary"!=i.type){this.normal=t.getWorldManifold().normal;var o=cc.radiansToDegrees(cc.pToAngle(this.normal));this.tangent=cc.pForAngle(cc.degreesToRadians(o+90)),"onesided"==i.type&&o>0&&(this.normal=cc.pMult(this.normal,-1),this.tangent=cc.pMult(this.tangent,-1)),"test_ground"==i.type&&(e.node.children[0].rotation=0)}},onEndContact:function(t,e,i){this.isOnGround=!1},update:function(t){if("dead"!=this.state){e=cc.pLength(this.body.linearVelocity);if(this.leftPressed&&e<this.maxSpeed&&(this.body.applyLinearImpulse(cc.pMult(this.tangent,-this.runImpulse),this.body.getWorldCenter(),!0),this.node.children[0].scaleX=-1),this.rightPressed&&e<this.maxSpeed&&(this.body.applyLinearImpulse(cc.pMult(this.tangent,this.runImpulse),this.body.getWorldCenter(),!0),this.node.children[0].scaleX=1),this.upPressed&&this.isInWater&&this.body.applyLinearImpulse(cc.pMult(cc.v2(0,1),this.runImpulse),this.body.getWorldCenter(),!0),this.downPressed&&this.isInWater&&this.body.applyLinearImpulse(cc.pMult(cc.v2(0,1),-.5*this.runImpulse),this.body.getWorldCenter(),!0),this.upSinglePressed){this.upSinglePressed=!1,this.isOnGround||(this.jump_count=this.jump_count+1),this.normal=cc.v2(0,-1);var e=cc.v2();if(this.jump_count<2&&!this.isInWater){if((this.leftPressed||this.rightPressed)&&this.isOnGround){e=cc.pMult(cc.pNormalize(cc.v2(this.body.linearVelocity.x,0)),this.horizontalJumpFactor);var i=cc.pMult(cc.pSub(this.normal,e),-this.jumpImpulse);this.body.applyLinearImpulse(i,this.body.getWorldCenter(),!0)}if(!this.leftPressed&&!this.rightPressed&&this.isOnGround){o=cc.pMult(this.normal,-.8*this.jumpImpulse/(this.jump_count+1));this.body.applyLinearImpulse(o,this.body.getWorldCenter(),!0)}if(!this.leftPressed&&!this.rightPressed&&!this.isOnGround){var o=cc.pMult(this.normal,-.5*this.jumpImpulse);this.body.applyLinearImpulse(o,this.body.getWorldCenter(),!0)}this.playJumpAudio()}this.isOnWall&&(this.body.applyLinearImpulse(cc.pMult(cc.pSub(this.jumpDirection,e),-this.jumpImpulse),this.body.getWorldCenter(),!0),this.node.children[0].scaleX=-this.node.children[0].scaleX,this.playJumpAudio()),this.isInWater&&(this.state="up",this.playJumpAudio())}this.isOnGround&&(this.jump_count=0),this.ray.angle=cc.radiansToDegrees(cc.pToAngle(this.normal)),this.ray.rayLength<20?this.isOnGround=!0:this.isOnGround=!1}}}),cc._RF.pop()},{}],sliderScript:[function(t,e,i){"use strict";cc._RF.push(e,"95b67iBkFtAm40uWdJ2qaJT","sliderScript"),cc.Class({extends:cc.Component,properties:{slider:cc.Node},onLoad:function(){this.backgroundMusic=cc.find("AudioLibrary").getComponent(cc.AudioSource),this.slider.getComponent(cc.Slider).progress=cc.game.globalData.volume},start:function(){},handleSlider:function(){this.backgroundMusic.volume=this.slider.getComponent(cc.Slider).progress,cc.game.globalData.volume=this.slider.getComponent(cc.Slider).progress,cc.game.saveGameData("gameDb",cc.game.globalData)}}),cc._RF.pop()},{}],snellMotion:[function(t,e,i){"use strict";cc._RF.push(e,"2de53qSsvpGmqUbGllFauHA","snellMotion"),cc.Class({extends:cc.Component,properties:{speed:2,span:50},start:function(){this.m_speed=this.speed,this.state="alive",this.pos=this.node.position},update:function(t){"dead"!=this.state&&(this.node.x<this.pos.x-this.span&&(this.m_speed=this.speed,this.node.scaleX=-1*this.node.scaleX),this.node.x>=this.pos.x+this.span&&(this.m_speed=-this.speed,this.node.scaleX=-1*this.node.scaleX),this.node.x=this.node.x+this.m_speed)}}),cc._RF.pop()},{}],star:[function(t,e,i){"use strict";cc._RF.push(e,"79b1bYmViFK3aEDtnxXcJk5","star"),cc.Class({extends:cc.Component,properties:{pickedMusic:{default:null,url:cc.AudioClip}},onLoad:function(){this.node.getComponent(cc.RigidBody).enabledContactListener=!0},onBeginContact:function(t,e,i){cc.log("star picked"),cc.audioEngine.playEffect(this.pickedMusic,!1),this.node.destroy()},onEndContact:function(t,e,i){},onPreSolve:function(t,e,i){},onPostSolve:function(t,e,i){}}),cc._RF.pop()},{}],wall:[function(t,e,i){"use strict";cc._RF.push(e,"fbab3kIuslGvqv5Cw8TwOBZ","wall"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.getComponent(cc.RigidBody).enabledContactListener=!0,this.gravity=cc.director.getPhysicsManager().gravity},onBeginContact:function(t,e,i){i.node.children[0].rotation=0;var o=t.getWorldManifold().normal;-1==o.x||1==o.x?(cc.director.getPhysicsManager().gravity=cc.v2(0,-40),this.node.getComponent(cc.PhysicsCollider).type="boundary",i.body.linearVelocity=cc.v2(),i.node.getComponent("player").isOnWall=!0,i.node.getComponent("player").jumpDirection=cc.v2(-.5*o.x,-.75)):this.node.getComponent(cc.PhysicsCollider).type=""},onEndContact:function(t,e,i){cc.director.getPhysicsManager().gravity=this.gravity,i.node.getComponent("player").isOnWall=!1},onPreSolve:function(t,e,i){},onPostSolve:function(t,e,i){}}),cc._RF.pop()},{}]},{},["AudioLibrary","Snell","GameOver","Mimo","Mute","LargeStaticBG","ParalaxLayer","ScrollingBackGround","CameraControl","PlayerFollowCamera","SimpleCamera","HUDsetting","Life","MenuScript","boundry","box_platform_onesided","box_platform_onesided_cocos","curvy_ground_onesided","fixedBackGround","ground","movingplatform","wall","Score","Water","pickup","snellMotion","star","Pause","player","playerPhysicsComponent","playerRayCastComponent","gameSettings","myGlobalVariables","collision","physics","custom_properties","exp","externalRayCastforGraphicsComp","mover","physics-bound","sliderScript"]);